<script>
    <% if flash[:error_msg]%>
    alert('<%=flash[:error_msg]%>');
    <% end%>
</script>
<div>
  <ul class="breadcrumb">
    <li>
      <a href="#">Home</a> <span class="divider">/</span>
    </li>
    <li>
      <a href="<%= admin_journalisms_path %>">新闻管理</a> <span class="divider">/</span>
    </li>
    <li>
      添加新闻
    </li>
  </ul>
</div>
<div class="row-fluid sortable ui-sortable">
  <div class="box span12">
    <div class="box-header well" data-original-title="">
      <h2><i class="icon-edit"></i> 添加新闻</h2>
    </div>
    <div class="box-content">
      <%= form_for(:journalism, :url => admin_journalisms_path, :id => "verifytitle", :class => "form-horizontal") do |f| %>
          <legend>添加新闻</legend>
          <%= f.label "新闻标题：" %>
          <%= f.text_field :title %>
          <%= f.label "选择图片：" %>
          <%= f.file_field :avatar %>
          <%= f.label "新闻内容：" %>
          <%= f.text_area :descrpiton, :style => "width:500px;height:150px" %>
          <div class="form-actions">
            <button type="submit" class="btn btn-primary">完成提交</button>
          </div>
      <% end %>
    </div>
  </div>
  <!--/span-->
</div>
<script src="/admin/js/jquery.validate.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $(function () {
            $("#classic_cases").validate({
                rules: {
                    "case[title]": {
                        required: true
                    },
                    "case[avatar]": {
                        required: true,
                        accept: "jpg|png"
                    },
                    "case[descrption]": {
                        required: true
                    }
                },
                messages: {
                    "case[title]": {
                        required: "请填写标题"
                    },
                    "case[avatar]": {
                        required: "请上传图片",
                        accept: "图片类型必须是png或jpg"
                    },
                    "case[descrption]": {
                        required: "内容不能为空"
                    }
                },
                errorPlacement: function (error, element) {
                    error.appendTo(element.parent());
                }
            });
        });
    });
</script>